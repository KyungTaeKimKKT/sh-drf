# Generated by Django 4.2.14 on 2025-06-16 14:29

import datetime
from django.conf import settings
from django.db import migrations, models
import django.db.models.deletion
import simple_history.models
import 생산지시.models


class Migration(migrations.Migration):

    initial = True

    dependencies = [
        ('작업지침', '0001_initial'),
        migrations.swappable_dependency(settings.AUTH_USER_MODEL),
        ('품질경영', '0001_initial'),
    ]

    operations = [
        migrations.CreateModel(
            name='JAMB_file',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file', models.FileField(blank=True, max_length=254, null=True, upload_to=생산지시.models.JAMB_directory_path)),
            ],
        ),
        migrations.CreateModel(
            name='JAMB_발주정보',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('발주사', models.CharField(blank=True, max_length=30, null=True)),
                ('발주담당자', models.CharField(blank=True, max_length=20, null=True)),
                ('발주일', models.DateField(blank=True, null=True)),
                ('출하요청일', models.DateField(blank=True, null=True)),
                ('등록일', models.DateField(default=datetime.date(2025, 6, 16))),
                ('확정', models.BooleanField(blank=True, null=True)),
                ('JAMB_files_fks', models.ManyToManyField(related_name='JAMB_files_fks+', to='생산지시.jamb_file')),
            ],
        ),
        migrations.CreateModel(
            name='Process',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('생산처', models.CharField(blank=True, max_length=20, null=True)),
                ('적용', models.TextField(blank=True, null=True)),
                ('소재', models.CharField(blank=True, max_length=50, null=True)),
                ('치수', models.CharField(blank=True, max_length=50, null=True)),
                ('구분', models.CharField(blank=True, max_length=20, null=True)),
                ('수량', models.IntegerField(default=0)),
                ('치수_두께', models.FloatField(blank=True, null=True)),
                ('치수_가로', models.IntegerField(blank=True, null=True)),
                ('치수_세로', models.IntegerField(blank=True, null=True)),
                ('대표Process', models.TextField(blank=True, null=True)),
                ('상세Process', models.TextField(blank=True, null=True)),
                ('출하처', models.CharField(blank=True, max_length=20, null=True)),
                ('비고', models.TextField(blank=True, null=True)),
                ('확정', models.BooleanField(blank=True, null=True)),
                ('표시순서', models.IntegerField(default=0)),
                ('작지Process_fk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='작업지침.process')),
            ],
        ),
        migrations.CreateModel(
            name='SPG',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('job_name', models.CharField(blank=True, max_length=50, null=True)),
                ('proj_No', models.CharField(blank=True, max_length=30, null=True)),
                ('호기', models.TextField(blank=True, null=True)),
                ('비고', models.TextField(blank=True, null=True)),
                ('도면번호', models.CharField(blank=True, max_length=50, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='SPG_file',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file', models.FileField(blank=True, max_length=254, null=True, upload_to=생산지시.models.spg생산지시_directory_path)),
            ],
        ),
        migrations.CreateModel(
            name='TAB_Made_file',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('title', models.CharField(blank=True, max_length=30, null=True)),
                ('file', models.FileField(blank=True, max_length=254, null=True, upload_to=생산지시.models.tab_made_directory_path)),
            ],
        ),
        migrations.CreateModel(
            name='도면file',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('file', models.FileField(blank=True, max_length=254, null=True, upload_to=생산지시.models.생산지시_directory_path)),
            ],
        ),
        migrations.CreateModel(
            name='도면상세내용',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('품목', models.CharField(blank=True, max_length=30, null=True)),
                ('도면', models.CharField(blank=True, max_length=30, null=True)),
                ('소재', models.CharField(blank=True, max_length=30, null=True)),
                ('치수', models.IntegerField(blank=True, null=True)),
                ('총수량', models.IntegerField(blank=True, null=True)),
                ('개별수량', models.FloatField(blank=True, null=True)),
            ],
        ),
        migrations.CreateModel(
            name='도면정보',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('고객사', models.CharField(blank=True, max_length=30, null=True)),
                ('공사번호', models.CharField(blank=True, max_length=30, null=True)),
                ('납기일_Door', models.DateField(blank=True, null=True)),
                ('납기일_Cage', models.DateField(blank=True, null=True)),
                ('발주일', models.DateField(blank=True, null=True)),
                ('사양', models.CharField(blank=True, max_length=30, null=True)),
                ('인승', models.CharField(blank=True, max_length=30, null=True)),
                ('호기', models.CharField(blank=True, max_length=30, null=True)),
                ('현장명', models.CharField(blank=True, max_length=30, null=True)),
                ('JJ', models.IntegerField(default=0)),
                ('CH', models.IntegerField(default=0)),
                ('HH', models.IntegerField(default=0)),
                ('HD_기타층_수량1', models.IntegerField(default=0)),
                ('HD_기타층_수량2', models.IntegerField(default=0)),
                ('HD_기준층_수량1', models.IntegerField(default=0)),
                ('HD_기준층_수량2', models.IntegerField(default=0)),
                ('CD_수량1', models.IntegerField(default=0)),
                ('CD_수량2', models.IntegerField(default=0)),
                ('CW_수량1', models.IntegerField(default=0)),
                ('CW_수량2', models.FloatField(default=0)),
                ('상판_수량1', models.IntegerField(default=0)),
                ('상판_수량2', models.FloatField(default=0)),
                ('HD_기타층_Type', models.TextField(blank=True, null=True)),
                ('HD_기타층_도면번호', models.TextField(blank=True, null=True)),
                ('HD_기타층_소재', models.TextField(blank=True, null=True)),
                ('HD_기타층_사양', models.TextField(blank=True, null=True)),
                ('HD_기준층_Type', models.TextField(blank=True, null=True)),
                ('HD_기준층_도면번호', models.TextField(blank=True, null=True)),
                ('HD_기준층_소재', models.TextField(blank=True, null=True)),
                ('HD_기준층_사양', models.TextField(blank=True, null=True)),
                ('CD_Type', models.TextField(blank=True, null=True)),
                ('CD_도면번호', models.TextField(blank=True, null=True)),
                ('CD_소재', models.TextField(blank=True, null=True)),
                ('CD_사양', models.TextField(blank=True, null=True)),
                ('CW_Type', models.TextField(blank=True, null=True)),
                ('CW_도면번호', models.TextField(blank=True, null=True)),
                ('CW_소재', models.TextField(blank=True, null=True)),
                ('CW_사양', models.TextField(blank=True, null=True)),
                ('상판_Type', models.TextField(blank=True, null=True)),
                ('상판_도면번호', models.TextField(blank=True, null=True)),
                ('상판_소재', models.TextField(blank=True, null=True)),
                ('상판_사양', models.TextField(blank=True, null=True)),
                ('표시순서', models.IntegerField(default=0)),
            ],
        ),
        migrations.CreateModel(
            name='생산지시',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('생산형태', models.CharField(blank=True, max_length=20, null=True)),
                ('고객사', models.CharField(blank=True, max_length=20, null=True)),
                ('구분', models.CharField(blank=True, max_length=20, null=True)),
                ('Job_Name', models.CharField(blank=True, max_length=50, null=True)),
                ('Proj_No', models.CharField(blank=True, max_length=30, null=True)),
                ('총수량', models.IntegerField(default=0)),
                ('지시수량', models.IntegerField(default=0)),
                ('차수', models.IntegerField(default=1)),
                ('생산지시일', models.DateField(blank=True, null=True)),
                ('소재발주일', models.DateField(blank=True, null=True)),
                ('is_배포', models.BooleanField(default=False)),
                ('is_valid', models.BooleanField(default=False)),
                ('SPG_호기', models.TextField(blank=True, null=True)),
                ('SPG_도면번호', models.CharField(blank=True, max_length=200, null=True)),
                ('SPG_비고', models.TextField(blank=True, null=True)),
                ('작성일', models.DateField(blank=True, null=True)),
                ('작성자', models.CharField(blank=True, max_length=20, null=True)),
                ('진행현황_htm', models.CharField(blank=True, max_length=20, null=True)),
                ('진행현황_jamb', models.CharField(blank=True, max_length=20, null=True)),
                ('is_계획반영_htm', models.BooleanField(blank=True, null=True)),
                ('is_계획반영_jamb', models.BooleanField(blank=True, null=True)),
                ('변경사유_내용', models.TextField(blank=True, null=True)),
                ('Rev', models.IntegerField(default=1)),
                ('JAMB_발주정보_fk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.SET_NULL, to='생산지시.jamb_발주정보')),
                ('NCR_fk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='품질경영.ncr')),
                ('prev_생지', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='생산지시.생산지시')),
                ('process_fks', models.ManyToManyField(blank=True, related_name='Process+', to='생산지시.process')),
                ('spg_fks', models.ManyToManyField(blank=True, related_name='SPG+', to='생산지시.spg')),
                ('tab_made_fks', models.ManyToManyField(blank=True, related_name='tab_made+', to='생산지시.tab_made_file')),
                ('도면정보_fks', models.ManyToManyField(blank=True, related_name='도면정보+', to='생산지시.도면정보')),
                ('작성자_fk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='_생산지시_작성자_fk', to=settings.AUTH_USER_MODEL)),
                ('작업지침_fk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='작업지침.작업지침')),
            ],
        ),
        migrations.CreateModel(
            name='SPG_Table',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('품번', models.CharField(blank=True, max_length=50, null=True)),
                ('측판폭_W', models.CharField(blank=True, max_length=50, null=True)),
                ('소재폭_W0', models.CharField(blank=True, max_length=50, null=True)),
                ('길이_L', models.CharField(blank=True, max_length=50, null=True)),
                ('소재길이_A0', models.CharField(blank=True, max_length=50, null=True)),
                ('밴딩W_T', models.TextField(blank=True, null=True)),
                ('밴딩A_T', models.TextField(blank=True, null=True)),
                ('W1', models.CharField(blank=True, max_length=50, null=True)),
                ('A1', models.CharField(blank=True, max_length=50, null=True)),
                ('W2', models.CharField(blank=True, max_length=50, null=True)),
                ('A2', models.CharField(blank=True, max_length=50, null=True)),
                ('W3', models.CharField(blank=True, max_length=50, null=True)),
                ('A3', models.CharField(blank=True, max_length=50, null=True)),
                ('대표Process', models.CharField(blank=True, max_length=200, null=True)),
                ('상세Process', models.CharField(blank=True, max_length=200, null=True)),
                ('표시순서', models.IntegerField(default=1)),
                ('작지_process_fk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='작업지침.process')),
            ],
        ),
        migrations.AddField(
            model_name='spg',
            name='file1_fk',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='file1', to='생산지시.spg_file'),
        ),
        migrations.AddField(
            model_name='spg',
            name='file2_fk',
            field=models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, related_name='file2', to='생산지시.spg_file'),
        ),
        migrations.AddField(
            model_name='spg',
            name='spg_table_fks',
            field=models.ManyToManyField(to='생산지시.spg_table'),
        ),
        migrations.CreateModel(
            name='Historical생산지시',
            fields=[
                ('id', models.BigIntegerField(auto_created=True, blank=True, db_index=True, verbose_name='ID')),
                ('생산형태', models.CharField(blank=True, max_length=20, null=True)),
                ('고객사', models.CharField(blank=True, max_length=20, null=True)),
                ('구분', models.CharField(blank=True, max_length=20, null=True)),
                ('Job_Name', models.CharField(blank=True, max_length=50, null=True)),
                ('Proj_No', models.CharField(blank=True, max_length=30, null=True)),
                ('총수량', models.IntegerField(default=0)),
                ('지시수량', models.IntegerField(default=0)),
                ('차수', models.IntegerField(default=1)),
                ('생산지시일', models.DateField(blank=True, null=True)),
                ('소재발주일', models.DateField(blank=True, null=True)),
                ('is_배포', models.BooleanField(default=False)),
                ('is_valid', models.BooleanField(default=False)),
                ('SPG_호기', models.TextField(blank=True, null=True)),
                ('SPG_도면번호', models.CharField(blank=True, max_length=200, null=True)),
                ('SPG_비고', models.TextField(blank=True, null=True)),
                ('작성일', models.DateField(blank=True, null=True)),
                ('작성자', models.CharField(blank=True, max_length=20, null=True)),
                ('진행현황_htm', models.CharField(blank=True, max_length=20, null=True)),
                ('진행현황_jamb', models.CharField(blank=True, max_length=20, null=True)),
                ('is_계획반영_htm', models.BooleanField(blank=True, null=True)),
                ('is_계획반영_jamb', models.BooleanField(blank=True, null=True)),
                ('변경사유_내용', models.TextField(blank=True, null=True)),
                ('Rev', models.IntegerField(default=1)),
                ('history_id', models.AutoField(primary_key=True, serialize=False)),
                ('history_date', models.DateTimeField(db_index=True)),
                ('history_change_reason', models.CharField(max_length=100, null=True)),
                ('history_type', models.CharField(choices=[('+', 'Created'), ('~', 'Changed'), ('-', 'Deleted')], max_length=1)),
                ('JAMB_발주정보_fk', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='생산지시.jamb_발주정보')),
                ('NCR_fk', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='품질경영.ncr')),
                ('history_user', models.ForeignKey(null=True, on_delete=django.db.models.deletion.SET_NULL, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('prev_생지', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='생산지시.생산지시')),
                ('작성자_fk', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to=settings.AUTH_USER_MODEL)),
                ('작업지침_fk', models.ForeignKey(blank=True, db_constraint=False, null=True, on_delete=django.db.models.deletion.DO_NOTHING, related_name='+', to='작업지침.작업지침')),
            ],
            options={
                'verbose_name': 'historical 생산지시',
                'verbose_name_plural': 'historical 생산지시s',
                'ordering': ('-history_date', '-history_id'),
                'get_latest_by': ('history_date', 'history_id'),
            },
            bases=(simple_history.models.HistoricalChanges, models.Model),
        ),
        migrations.CreateModel(
            name='Group생산지시',
            fields=[
                ('id', models.BigAutoField(auto_created=True, primary_key=True, serialize=False, verbose_name='ID')),
                ('잔여El수량', models.IntegerField(blank=True, null=True)),
                ('완료일자', models.DateTimeField(null=True)),
                ('group', models.ManyToManyField(blank=True, related_name='group+', to='생산지시.생산지시')),
                ('작업지침_fk', models.ForeignKey(blank=True, null=True, on_delete=django.db.models.deletion.CASCADE, to='작업지침.작업지침')),
            ],
        ),
    ]
